<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Paper Reading: ZooKeeper</title>
    <url>/2021/01/02/paper_reading_zookeeper/</url>
    <content><![CDATA[<p><a href="https://www.usenix.org/legacy/events/atc10/tech/full_papers/Hunt.pdf" target="_blank" rel="noopener">ZooKeeper</a> is a service for coordinating processes of distributed applications, which provides wait-free coordination for Internet-scale systems.<br><a id="more"></a></p>
<h2 id="Design-Decisions"><a href="#Design-Decisions" class="headerlink" title="Design Decisions"></a>Design Decisions</h2><p>Moved away from implementing specific primitives on the server side, opted for exposing an API that enables application developers to implement their own primitives, which enables new primitives without requiring changes to the service core.</p>
<p>Moved away from blocking primitives, such as locks (e.g. Chubby). Since blocking primitives can cause, among other problems, slow or faulty clients to impact negatively the performance of faster clients. Instead, ZooKeeper implements an API that manipulates simple wait-free data objects (znodes) organized hierarchically as in file systems.</p>
<p>ZooKeepers guarantees two following properties for client operations:</p>
<ol>
<li>FIFO client order: all requests from <strong>a given client</strong> are executed in the order that they were sent by the client. Note this order guarantee is per client level, for example, read operation order is not guaranteed among clients, since read operations are handled locally by the connected server.</li>
<li>Linearizable writes: all requests that update the state of ZooKeeper are serializable and respect precendence. This is guaranteed by implementing a leader-based atomic broadcast protocol, called Zab.</li>
</ol>
<p>Improve read performace by caching data on the client side, for example, the process can cache the identifier fo the current leader instead of probing ZooKeeper every time in needs to know the leader. ZooKeepers uses a watch mechanism, with this mechanism, a client can watch for an update to a given data object and receive a notification upon an update.</p>
<h2 id="Service-Overview"><a href="#Service-Overview" class="headerlink" title="Service Overview"></a>Service Overview</h2><p>The ZooKeeper provides to its clients the abstraction of a set of data nodes (znodes), organized according to a hierarchical name space, referred by the standard UNIX notation for file system paths. All znodes store data, and all znodes, except for <strong>ephemeral znodes</strong>, can have children. There are two types of znodes that a client can create:</p>
<ol>
<li>Regular: Clients manipulate regular znodes by creating and deleting them explicitly.</li>
<li>Ephemeral: Clients create such znodes, and they either delete them explicitly, or let the system remove them automatically when the session that creates them terminates.</li>
</ol>
<p>ZooKeepers implements watches to allow clients to receive timely notification of chanes wihout requiring polling. Watches are one-time triggers associated with a session; they are unregistered once triggered or the session closes. Watches indicate that a change has happened, but do not provide the change. Session events, such as connection loss events, are also sent to watch callbacks so that clients knows that clients know that watch events may be delayed.</p>
<p>Znodes map to abstractions of the client application, typically corresponding to meta-data used for coordination purposes. Although znodes have not been designed for general data storage, ZooKeepers does allow clients to store some information that can be used for meta-data or configuration in a distributed computation. It also has associated meta-data with time stamps and version numbers which allow clients to keep track of its status.</p>
<p>A client connects to ZooKeeper and initiates a session. ZooKeeper considers a client faulty if it does not receive anything from its session for more than that timeout.</p>
<h2 id="APIs"><a href="#APIs" class="headerlink" title="APIs"></a>APIs</h2><p>The common used APIs provided by ZooKeeper are:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">create(path, data, flags), where flags enables a client to select the type of znode: regular, ephemeral, and set the sequential flag, which is a monotonicaly increaseing counter appended to its name.</span><br><span class="line">delete(path, version), continue when the version matches.</span><br><span class="line">exists(path, watch), the watch flag enables client to set a watch on the znode.</span><br><span class="line">getData(path, watch), watch flag works the same way as exists().</span><br><span class="line">setData(path, data, version), continue when the version matches.</span><br><span class="line">getChildren(path, watch).</span><br><span class="line">sync(path), flush all the pending updates.</span><br></pre></td></tr></table></figure>
<p>All methods have both sync and async version, and <strong>ZooKeeper client</strong> guarantees that the corresponding callbacks for each operation are invoked in order.</p>
<p>Refer to the paper to see example primitives implemented by these APIs, including configration management, group membership, read/write locks, etc.</p>
<h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><p>ZooKeeper provides high availability by replicating the data on each server. For recoverability, it forces writes to be on the disk media before they are applied to the in-memory database. And it will keep a replay log of commited operations and generate periodic snapshots of the in-memory database.</p>
<p>For read request, they are serviced from the local replica, the local replica is guaranteed to be not diverged, although at any point in time some servers have applied more transactions than others. This will introduce problem that a read operation might return stale value. To gurantee a read operation retrieves the latest updated value, a client calls sync followed by a read operation.</p>
<p>For write request, they are forwarded to a single server, called the leader. The leader executes the request and broadcast the change to followers through Zab, an atomic broadcast protocol. Zab uses majority quorums to decide on a proposal and provides stronger order guarantees than regular atomic broadcast. Write ahead log is used to keep track of all changes to the database. Zab normally only deliver messages in order and exactly once, but may redeliver a message during recovery. Because the idempotent transaction is used, the end state is still same as long as they delivered in order.</p>
<p>When taking snapshot of a ZooKeeper server, the server state is not locked, instead, it depth frist scan of the tree and atomically reading each znode and write them to disk. The result might not correspond to the state of ZooKeeper at any point in time since some subsets of the state changes are delivered during the generation of the snapshot. However, since state changes are idempotent, we can apply it multiple times as long as they are in order.</p>
<p>Servers process writes in order and do not process other wirtes or reads concurrently. This ensure strict succession of notifications. Note that servers handle notification locally, only the server that a client is connected to tracks and triggers notification for that client.</p>
<p>Each read reqeust is processed and tagged with a zxid that corresponds to the last transaction seen by the server. If the client needs to connect to a new server, the new server ensures that is view of the ZooKeeper data is at least as recent as the view of the client by checking the last zxid of the client against its last zxid. And the connection won’t be establised until the server has caught up. The client is guarateed to be able to find another server that has a recent view of the system since the client only sees changes that have been replicated to a majority of the ZooKeeper servers.</p>
<p>ZooKeeper uses timeouts to detect client session failures. If the client cannot communicate with a server to send a request, it connects to a differernt server to re-establish the session.</p>
]]></content>
      <categories>
        <category>System Infrastructure</category>
        <category>Coordination Service</category>
      </categories>
      <tags>
        <tag>Distributed System</tag>
        <tag>Infrastructure</tag>
        <tag>Paper Reading</tag>
      </tags>
  </entry>
  <entry>
    <title>于是开始奔跑</title>
    <url>/2019/12/08/run_with_the_wind/</url>
    <content><![CDATA[<p>我很佩服三浦紫苑，讲好一个故事本身就很不简单，她却偏偏选择依托在编纂辞典《编舟记》或者长跑《强风吹拂》这种让人听上去就觉得枯燥乏味的事物上，然后将一切娓娓道来。相较于其他运动而言，跑步确实听上去不那么让人热血沸腾，不像足篮排那样典型的热血物语，它并不能够给人带来和对手厮杀的压迫感，和赢得比赛、击败对手的畅快感，而更多的时候是一种与自我的搏斗。就像在动画中所说的，箱根驿传的后半段棒次奔跑在路上的时候可能一个人都看不见，所能听见的只有自己的呼吸和心跳。但正是这种习惯在孤独中让自己变得强大的姿态，才是这项运动的迷人之处。<br><a id="more"></a></p>
<p><img src="/images/haiji.png" alt></p>
<p>灰二是一切的开端，从大一到大四，一手组建出了宽政大的田径队，操办了所有队友的训练和饮食，以至于在他因过度劳累而晕倒的时候，大家才突然明白他到底付出了多少。</p>
<p>他是一个如此完美的领导者和行动派，所以才能对处在低谷的king说出“你是为我们存在的，而我也是为你们存在的”这样的话语，才能够在阿走不断地质疑声中保持团队的步调。</p>
<p>可是他又觉得自己是如此的弱小，在某个时间点，他也会怀疑自己是不是过于严苛，可能无法全员取得预选赛的资格。</p>
<p>“你知道对长跑选手来说，最棒的赞美是什么吗？是快吗？不是，是强。光跑的快没办法在长跑中脱颖而出。天候，场地，比赛的发展，体能，还有自己的精神状态——长跑选手必须冷静分析这些要素，即使面对再大的困难，也要坚韧不拔的突破难关。”</p>
<p>灰二是这部作品最懂得何谓强大的人，罗曼罗兰说过，这世上只有一种英雄主义，就是认清生活的真相后仍然热爱它。作为一个普通人。经历过漫长的低谷，不得不远离跑步，却一直挣扎着想要追上曾经的自己，我想他这就是对这句话最好的注解吧。这积蓄已久的不甘和遗憾是如此地强烈，才能让他在最后一棒中压抑住让他今后再也无法跑步的膝盖伤痛，以区间第二的成绩让宽政大进入前十。</p>
<p>你亲手开启了这个故事，并为它写上了最美的结局。</p>
<p>你明明已经是个如此坚强的跑者了，却依然无法战胜人生。</p>
<p><img src="/images/king.png" alt></p>
<p>King就是我们自己。</p>
<p>生活和工作上的压力让人无处遁形。于是我们觉得不能再像孩子一样无忧无虑了，不再年轻，没有放纵的资本。</p>
<p>看着大家为了箱根驿传这种不切实际的事情努力的身影，甚至还会嘲讽几句。</p>
<p>自己，还有更重要的事情要做；自己，并不属于这里。</p>
<p>所以我们选择关闭自己的门，和他人隔绝起来，然后把这叫做长大。</p>
<p>可是我却无法讨厌这样的king，因为我无法讨厌那个弱小的自己。</p>
<p>但是我想king是很幸运的，因为他并不是孤独的国王。</p>
<p>跑步并不能让你找到工作，但它可能成为一个契机。</p>
<p>停下来，就会感到不安，我们都有过这样的时期。</p>
<p>只有在跑步的时候，我才感觉自己是在前进的。</p>
<p>所以向前跑吧，尽管不知道有什么样的未来在那边等着，但如果不收拾好心情重新出发的话，是无法到达的。</p>
<p><img src="/images/yuki.png" alt></p>
<p>阿雪是这部作品最理性的人，他清楚地知道自己想要的是什么。</p>
<p>父亲的离世让他过早地成熟起来，眼见母亲独自一人日复一日地工作到深夜，将他拉扯成人，所以自己也决定早日找到一份安稳的工作，让母亲过上好日子。一直准备参加司法考试并在毕业之前通过，这之间的困难，大家应该都心知肚明，但也不见阿雪对别人提起。</p>
<p> 但母亲再婚的决定却让阿雪收到了巨大的打击，明明母亲已经获得了幸福，却和自己的设想不一样。母亲再婚之后很快就有了第二个孩子，自己似乎并没有办法融入新的家庭，于是考上大学就决定搬出去，也没有回过几次家。</p>
<p>但看到为自己特地赶来加油的家人们，心里那微不足道的芥蒂也开始慢慢融化了。他们一直都把自己当作家人，然而我却一直没有对他们敞开心扉。</p>
<p>跑起来，真的可以改变很多事情，在意想不到的地方。</p>
<p>在跑第六区间的时候，借着山路之力，阿雪也曾产生过“这样跑下去，是不是就能追上阿走”的想法，也似乎明白了对跑步的热爱从何而来。 但他也清楚地知道那是一条危险的、充满荆棘的道路，自己的未来并不在那里。</p>
<p>再快两秒就可以拿到区间赏了，但那两秒，是自己永远都无法超越的两秒。</p>
<p>不被选中的人是注定无法取得胜利的，那么他们一直跑下去的理由是什么呢？</p>
<p>但是不跑起来，是无法看到这个美丽的世界的，即使深知自己今日就要和它道别。</p>
<p><img src="/images/kakeru.png" alt></p>
<p>阿走的成长贯穿了整个作品的主线。</p>
<p>因为看不下去教练对待队友的方式爆发冲突而远离赛场，得不到任何人的理解，甚至连自己的队友也因为被禁赛而迁怒于他。</p>
<p>失去了保送田径名校的资格，进入了宽政大。甚至连自己的生活费也挥霍一空，只能靠偷便利店的面包裹腹。</p>
<p>那种压到你喘不过气的绝望，灰二也曾经历过。所以他才会再遇到阿走的时候那么确信，自己找到了第十个人。</p>
<p>但自己不相信仅仅凭借这随意拼凑的十个人可以站上去往箱根的赛场，怀疑、争吵、责备，被过去所束缚的走似乎并没有办法跑出笼罩在前方的阴霾。</p>
<p>尽管自己依然在不停的奔跑，但好像在逃避着什么，成绩没有提高，自己也日复一日地更加焦虑。</p>
<p>但幸好他有温暖的竹青庄，队友的宽容，学长的开导，和自己亲眼目睹的所有人为了同一个目标而奔跑的身姿。</p>
<p>因为你总是跑在前面，所以才看不到啊，在你身后拼命想追上你的我们。</p>
<p>于是阿走也开始学会关心他人，学会停下来，为奔跑的人呐喊。这是自己独自奔跑时没有过的经历，这是只有和大家一起奔跑时才能看到的风景。</p>
<p>所以当阿走发自内心地说出“我想我们这十个人，一起参加箱根驿传”的时候，我哭了，真好啊，藏原走，你遇到了那群把你变的更好的人。</p>
<p>三浦紫苑想讲的是人生。人生并不是一场马拉松，大家的起点并不相同，也并没有终点可言，但是我们却切切实实地奔跑在路上。可能孤独了许久，又或是遇到了志同道合的伙伴，就像是竹青庄的十个人，处在人生不同的阶段，怀抱着不同的理由，但大家还是一起站上了箱根驿传的赛场，传递着属于自己的一棒。</p>
<p>为什么要跑步？这是竹青庄一众最开始的问题，直到结尾作品也没有给我们一个明确的答案，但最后似乎所有人都收获了什么。</p>
<p>不是因为喜欢所以才认真，而是想着认真起来，说不定就喜欢上了。</p>
<p>因为奔跑的时候，我才感觉自己是纯净的。</p>
<p>因为现实并不会消失，那干脆不要逃避，和现实一起奔跑。</p>
<p>因为想跑的更快，知道自己的极限在哪里。</p>
<p>因为跑起来，才能看到之前不曾见过的风景。</p>
<p>开始跑步的原因可以有很多，坚持下去的理由也不尽相同，即使一直奔跑也会有停下来的一天。但是至少现在，请一直奔跑下去吧。也许并不知道前方会有什么风景，会遇到什么人，但是也请一直奔跑下去，因为我们现在所处的生活，就是我们的跑道。</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo: Adding PV/UV  counters to NexT theme</title>
    <url>/2019/03/18/hexo_next_page_user_views/</url>
    <content><![CDATA[<h2 id="Site-PV-UV"><a href="#Site-PV-UV" class="headerlink" title="Site PV/UV"></a>Site PV/UV</h2><p>NexT supports integration with different metrics/analytics services, which you can check on their <a href="https://theme-next.iissnan.com/third-party-services.html#analytics-system" target="_blank" rel="noopener">website</a>. To track the PV/UV for the whole site, we choose <a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="noopener">busuanzi</a>, since it supports displaying those information on your webpage.<br><a id="more"></a></p>
<h3 id="Install-busuanzi-js"><a href="#Install-busuanzi-js" class="headerlink" title="Install busuanzi.js"></a>Install busuanzi.js</h3><p>NexT already integrates busuanzi, but based on their <a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="noopener">website</a>, busuanzi has to change their host name for some reasons and the old one is not compatibale anymore, we have to fix this problem by ourselves. To fix it, simply navigate to <code>themes/next/layout/_third-party/analytics/busuanzi-counter.swig</code> and change<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;script async src=<span class="string">"//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>to<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;script async src=<span class="string">"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="Congifure-NexT"><a href="#Congifure-NexT" class="headerlink" title="Congifure NexT"></a>Congifure NexT</h3><p>To enable busuanzi in NexT, we need to configure <code>_config.yml</code> under <code>themes/next</code>. Search for <code>busuanzi_count</code> and modify based on your requirement<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">busuanzi_count:</span><br><span class="line">  <span class="comment"># count values only if the other configs are false</span></span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  <span class="comment"># custom uv span for the whole site</span></span><br><span class="line">  site_uv: <span class="literal">true</span></span><br><span class="line">  site_uv_header: &lt;i class=<span class="string">"fa fa-user"</span>&gt;&lt;/i&gt;</span><br><span class="line">  site_uv_footer: </span><br><span class="line">  <span class="comment"># custom pv span for the whole site</span></span><br><span class="line">  site_pv: <span class="literal">true</span></span><br><span class="line">  site_pv_header: &lt;i class=<span class="string">"fa fa-eye"</span>&gt;&lt;/i&gt;</span><br><span class="line">  site_pv_footer:</span><br><span class="line">  <span class="comment"># custom pv span for one page only</span></span><br><span class="line">  page_pv: <span class="literal">false</span></span><br><span class="line">  page_pv_header: &lt;i class=<span class="string">"fa fa-file-o"</span>&gt;&lt;/i&gt;</span><br><span class="line">  page_pv_footer:</span><br></pre></td></tr></table></figure></p>
<p>The above configuration only enables site_uv and site_pv, you can also customize the header and footer to make it more expressive. I disabled the page_pv since it only supports displaying visitors in the artical page, which means you can’t see it in home page, and we have a better replacement for it.<br>Update the settings and run <code>hexo s</code>, you will see the data in the footer:</p>
<p><img src="/images/site_pv_uv.png" alt></p>
<p>It currently displays all the counts to <code>http://localhost:4000</code>, once you deploy it, you will see the actual data of your website.</p>
<h2 id="Page-PV"><a href="#Page-PV" class="headerlink" title="Page PV"></a>Page PV</h2><p>To implement page pv counter, we need the corresponding backend service. Here, we choose <a href="https://leancloud.cn/" target="_blank" rel="noopener">LeanCloud</a> which is well supported by NexT.</p>
<h3 id="Setup-LeanCloud"><a href="#Setup-LeanCloud" class="headerlink" title="Setup LeanCloud"></a>Setup LeanCloud</h3><p>Create a LeanCloud account and then create a new application with the name you want</p>
<p><img src="/images/lean_cloud.png" alt></p>
<p>Click the application and create a new class with name <code>Counter</code> and set the ACL permission to be unlimited</p>
<p><img src="/images/lean_cloud_counter.png" alt></p>
<p>This creates a new DB table to store the page view counter information for each of your article, the key is the combination of you title and create time. You can also manually modify each data entry to change the actually number.</p>
<h3 id="Configure-NexT"><a href="#Configure-NexT" class="headerlink" title="Configure NexT"></a>Configure NexT</h3><p>Open <code>_config.yml</code> under <code>themes/next</code> and search for leancloud<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">leancloud_visitors:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  app_id: **your_app_id**</span><br><span class="line">  app_key: **your_app_key**</span><br></pre></td></tr></table></figure></p>
<p>You can find the <code>app_id</code> and <code>app_key</code> under settings in you LeanCloud application</p>
<p><img src="/images/lean_cloud_app_key.png" alt></p>
<p>Once you deploy the change, you will see the new page visitor counter in your articles.</p>
<p><img src="/images/page_pv.png" alt></p>
]]></content>
      <categories>
        <category>Programming</category>
        <category>Javascript</category>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>JavaScript</tag>
        <tag>NexT</tag>
      </tags>
  </entry>
  <entry>
    <title>Create your own blog with Hexo and Github Pages</title>
    <url>/2019/03/17/hexo_github_pages_blog/</url>
    <content><![CDATA[<h2 id="Set-up-local-development-environment-on-MacOS"><a href="#Set-up-local-development-environment-on-MacOS" class="headerlink" title="Set up local development environment on MacOS"></a>Set up local development environment on MacOS</h2><h3 id="Install-Node-js"><a href="#Install-Node-js" class="headerlink" title="Install Node.js"></a>Install Node.js</h3><p>Hexo is based on Node.js which can be installed <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">here</a>. It comes with npm, once the installation is done, run the following commands to make sure it is installed successfully<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<h3 id="Install-Git"><a href="#Install-Git" class="headerlink" title="Install Git"></a>Install Git</h3><p>Follow the <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" target="_blank" rel="noopener">steps</a> to install Git on your machine and verify by running<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git --version</span><br><span class="line">git version 2.17.2 (Apple Git-113)</span><br></pre></td></tr></table></figure></p>
<h3 id="Install-Hexo"><a href="#Install-Hexo" class="headerlink" title="Install Hexo"></a>Install Hexo</h3><p>Hexo can be installed from npm<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo npm install -g hexo</span><br></pre></td></tr></table></figure></p>
<p>Create your personal blog folder, cd into it. And run the following command to initialze and install all required packages<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init</span><br><span class="line">sudo npm install</span><br></pre></td></tr></table></figure></p>
<p>Once it is done, run<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure></p>
<p><code>hexo generate</code> or <code>hexo g</code>  will generate all static files, and <code>hexo server</code> or <code>hexo s</code> starts a local server and you can navigate to <code>http://localhost:4000</code> in browser to see your blog. Once the local server is started, hexo will watch for file updates automatically, so you don’t need to restart the server, simply refreshing the page and you will see the changes.</p>
<h2 id="Create-a-Github-Pages-project"><a href="#Create-a-Github-Pages-project" class="headerlink" title="Create a Github Pages project"></a>Create a Github Pages project</h2><p>What is Github Pages? According to the official website:</p>
<blockquote>
<p>GitHub Pages is a static site hosting service designed to host your personal, organization, or project pages directly from a GitHub repository</p>
</blockquote>
<p>As stated above, GitHub Pages is a static site hosting service, which means it doesn’t support server side programming. But it is good enough for building a personal blog, people may want to add some cool dynamic website features, which won’t be a problem. Hexo and different thirdparty tools can help us with it, we will talk about it later.<br>To use Github Pages, we need to create and configure our github account, we won’t dive deep into this part, there are a lot of related resouces can be easily googled. Once the Github account is set up, create a repository named as <code>&lt;username&gt;.github.io</code>.</p>
<h2 id="Link-Github-Pages-project-to-your-local-repository"><a href="#Link-Github-Pages-project-to-your-local-repository" class="headerlink" title="Link Github Pages project to your local repository"></a>Link Github Pages project to your local repository</h2><p>This can be easily done by modifying the config file. To do that, cd into you blog folder and open <code>_config.yml</code> with whatever text editor you like, and adding the following deploy configration to the file<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repository: https://github.com/&lt;username&gt;/&lt;username&gt;.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></p>
<p>To deploy on server, we need to install git deployer by<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p>
<p>then run<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></p>
<p>or<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></p>
<p>to deploy your project. Every time after you make some changes, you can follow the workflow above to view your changes locally then deploy. If you can’t see the changes after depolyment, you can run<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure></p>
<p>to clean the cached and generated files.</p>
<h2 id="Select-a-Theme"><a href="#Select-a-Theme" class="headerlink" title="Select a Theme"></a>Select a Theme</h2><p>Hexo has a variety of themes you can select from the <a href="https://hexo.io/themes/index.html" target="_blank" rel="noopener">offical website</a>. This blog is powered by <a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">NexT</a>. To install it, cd into your blog folder and run<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure></p>
<p>This will clone the NexT project to your local repository. To enable the new theme, open <code>_config.yml</code>, under <code>theme</code>,  change <code>landscape</code> to <code>next</code> and deploy it.</p>
<p>The next article will discuss about theme configuration and third party integration tools.</p>
]]></content>
      <categories>
        <category>Programming</category>
        <category>Javascript</category>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Javascript</tag>
      </tags>
  </entry>
</search>
