<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Hexo: Adding PV/UV counters to NexT theme]]></title>
    <url>%2F2019%2F03%2F17%2Fhexo_next_page_user_views%2F</url>
    <content type="text"><![CDATA[Site PV/UVNexT supports integration with different metrics/analytics services, which you can check on their website. To track the PV/UV for the whole site, we choose busuanzi, since it supports displaying those information on your webpage. Install busuanzi.jsNexT already integrates busuanzi, but based on their website, busuanzi has to change their host name for some reasons and the old one is not compatibale anymore, we have to fix this problem by ourselves. To fix it, simply navigate to themes/next/layout/_third-party/analytics/busuanzi-counter.swig and change1&lt;script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt; to1&lt;script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt; Congifure NexTTo enable busuanzi in NexT, we need to configure _config.yml under themes/next. Search for busuanzi_count and modify based on your requirement123456789101112131415busuanzi_count: # count values only if the other configs are false enable: true # custom uv span for the whole site site_uv: true site_uv_header: &lt;i class="fa fa-user"&gt;&lt;/i&gt; site_uv_footer: # custom pv span for the whole site site_pv: true site_pv_header: &lt;i class="fa fa-eye"&gt;&lt;/i&gt; site_pv_footer: # custom pv span for one page only page_pv: false page_pv_header: &lt;i class="fa fa-file-o"&gt;&lt;/i&gt; page_pv_footer: The above configuration only enables site_uv and site_pv, you can also customize the header and footer to make it more expressive. I disabled the page_pv since it only supports displaying visitors in the artical page, which means you can’t see it in home page, and we have a better replacement for it.Update the settings and run hexo s, you will see the data in the footer: It currently displays all the counts to http://localhost:4000, once you deploy it, you will see the actual data of your website. Page PVTo implement page pv counter, we need the corresponding backend service. Here, we choose LeanCloud which is well supported by NexT. Setup LeanCloudCreate a LeanCloud account and then create a new application with the name you want Click the application and create a new class with name Counter and set the ACL permission to be unlimited This creates a new DB table to store the page view counter information for each of your article, the key is the combination of you title and create time. You can also manually modify each data entry to change the actually number. Configure NexTOpen _config.yml under themes/next and search for leancloud1234leancloud_visitors: enable: true app_id: **your_app_id** app_key: **your_app_key** You can find the app_id and app_key under settings in you LeanCloud application Once you deploy the change, you will see the new page visitor counter in your articles.]]></content>
      <categories>
        <category>Programming</category>
        <category>Javascript</category>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>JavaScript</tag>
        <tag>NexT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Create your own blog with Hexo and Github Pages]]></title>
    <url>%2F2019%2F03%2F17%2Fhexo_github_pages_blog%2F</url>
    <content type="text"><![CDATA[Set up local development environment on MacOSInstall Node.jsHexo is based on Node.js which can be installed here. It comes with npm, once the installation is done, run the following commands to make sure it is installed successfully12node -vnpm -v Install GitFollow the steps to install Git on your machine and verify by running12git --versiongit version 2.17.2 (Apple Git-113) Install HexoHexo can be installed from npm1sudo npm install -g hexo Create your personal blog folder, cd into it. And run the following command to initialze and install all required packages12hexo initsudo npm install Once it is done, run12hexo generatehexo server hexo generate or hexo g will generate all static files, and hexo server or hexo s starts a local server and you can navigate to http://localhost:4000 in browser to see your blog. Once the local server is started, hexo will watch for file updates automatically, so you don’t need to restart the server, simply refreshing the page and you will see the changes. Create a Github Pages projectWhat is Github Pages? According to the official website: GitHub Pages is a static site hosting service designed to host your personal, organization, or project pages directly from a GitHub repository As stated above, GitHub Pages is a static site hosting service, which means it doesn’t support server side programming. But it is good enough for building a personal blog, people may want to add some cool dynamic website features, which won’t be a problem. Hexo and different thirdparty tools can help us with it, we will talk about it later.To use Github Pages, we need to create and configure our github account, we won’t dive deep into this part, there are a lot of related resouces can be easily googled. Once the Github account is set up, create a repository named as &lt;username&gt;.github.io. Link Github Pages project to your local repositoryThis can be easily done by modifying the config file. To do that, cd into you blog folder and open _config.yml with whatever text editor you like, and adding the following deploy configration to the file1234deploy: type: git repository: https://github.com/&lt;username&gt;/&lt;username&gt;.github.io.git branch: master To deploy on server, we need to install git deployer by1npm install hexo-deployer-git --save then run1hexo deploy or1hexo d to deploy your project. Every time after you make some changes, you can follow the workflow above to view your changes locally then deploy. If you can’t see the changes after depolyment, you can run1hexo clean to clean the cached and generated files. Select a ThemeHexo has a variety of themes you can select from the offical website. This blog is powered by NexT. To install it, cd into your blog folder and run1git clone https://github.com/iissnan/hexo-theme-next themes/next This will clone the NexT project to your local repository. To enable the new theme, open _config.yml, under theme, change landscape to next and deploy it. The next article will discuss about theme configuration and third party integration tools.]]></content>
      <categories>
        <category>Programming</category>
        <category>Javascript</category>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Javascript</tag>
      </tags>
  </entry>
</search>
